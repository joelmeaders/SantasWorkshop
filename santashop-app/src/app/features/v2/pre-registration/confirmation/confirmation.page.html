<ion-content color="light">
  <ion-header class="ion-no-border" color="light">
    <ion-toolbar color="light">
      <ion-item lines="none" color="none">
        <img
          src="assets/DSCS-Santa-Body_Red.png"
          class="sm-logo"
          alt="logo with santa claus"
        />
        <ion-card-title
          *ngIf="viewService.userRegistration$ | async as registration"
        >
          <strong>
            {{ 'COMMON.WELCOME' | translate }}, {{ registration.firstName }} {{ registration.lastName }}
          </strong
          >
        </ion-card-title>
      </ion-item>
      <ion-button slot="end" fill="clear" (click)="menu($event)">
        <ion-icon
          slot="icon-only"
          name="menu-sharp"
          color="dark"
          size="large"
        ></ion-icon>
      </ion-button>
    </ion-toolbar>
  </ion-header>

  <div class="ion-text-center width-max">
    <ion-button color="xmasred"> {{ 'CONFIRMATION.EVENT_INFORMATION' | translate }} </ion-button>
  </div>

  <ion-card class="ion-margin-horizontal ion-text-center">
    <ion-text color="xmasred" class="ion-text-center">
      <p>
        <ion-title>{{ 'CONFIRMATION.QR_CODE' | translate }}</ion-title>
        {{ 'CONFIRMATION.THIS_IS_YOUR_TICKET' | translate }}
      </p>
    </ion-text>

    <img [src]="viewService.qrCode$ | async" alt="Registration QR Code" class="qr-code" />

    <ion-item lines="none">
      <div>
        <p>
          <ion-text color="xmasred">
            <strong>{{ 'SCHEDULE.YOUR_DATE/TIME' | translate }}</strong>
          </ion-text>
          <br/>
        </p>
        <ion-text
            *ngIf="viewService.dateTimeSlot$ | async as slot"
            class="es-pd-bottom-md"
          >
          <!-- TODO: Single formatting pipe format -->
            {{ slot.dateTime | date:'fullDate' }}, {{ slot.dateTime | date:'shortTime' }}
          </ion-text>
      </div>
    </ion-item>

    <ion-list>
      <ion-item lines="none">
        <p>
          <ion-text color="xmasred">
            <strong>{{ 'CHILDREN.YOUR_CHILDREN' | translate }}</strong>
          </ion-text>
          <br/>
        </p>
      </ion-item>
      <ng-container *ngIf="viewService.children$ | async as children">
        <ion-item
          *ngFor="let child of children"
          [ngClass]="{'infant-style' : child.toyType == 'infants', 'boys-style': child.toyType == 'boys', 'girls-style': child.toyType == 'girls'}"
          lines="none"
        >
          <ion-icon
            name="man-outline"
            size="large"
            slot="start"
            *ngIf="child.toyType === 'boys'"
          ></ion-icon>
          <ion-icon
            name="woman-outline"
            size="large"
            slot="start"
            *ngIf="child.toyType === 'girls'"
          ></ion-icon>
          <ion-icon
            name="happy-outline"
            size="large"
            slot="start"
            *ngIf="child.toyType === 'infants'"
          ></ion-icon>
          <ion-card-header>
            <ion-card-title>
              {{ child.firstName }} {{ child.lastName }}
            </ion-card-title>
            <ion-card-subtitle>
              {{ child.dateOfBirth | date:'MMMM dd, yyyy' }}
            </ion-card-subtitle>
          </ion-card-header>
        </ion-item>
      </ng-container>
    </ion-list>

  </ion-card>
</ion-content>
