<ion-header class="ion-no-border" color="light">
  <ion-toolbar color="light">
    <ion-item lines="none" color="none">
      <img
        src="assets/DSCS-Santa-Body_Red.png"
        class="logo"
        alt="logo with santa claus"
      />
      <ion-card-title *ngIf="userRegistration$ | async as registration">
        <strong>
          {{ 'COMMON.WELCOME' | translate }}, {{ registration.firstName }} {{ registration.lastName }}
        </strong>
      </ion-card-title>
    </ion-item>
    <ion-button slot="end" fill="clear" (click)="menu($event)">
      <ion-icon
        slot="icon-only"
        name="menu-sharp"
        color="dark"
        size="large"
      ></ion-icon>
    </ion-button>
  </ion-toolbar>
</ion-header>

<ion-content color="light">
  <ion-grid class="ion-no-padding">
    <ion-row>
      <ion-col sizeXs="12" sizeSm="6" sizeMd="6">
        <ion-card>
          <ion-card-header>
            <ion-item class="inset-ion-item-title">
              <ion-card-title> {{ 'MENU.CHILDREN' | translate }} </ion-card-title>
            </ion-item>
          </ion-card-header>
          <ion-card-content class="ion-text-center">
            <ng-container *ngIf="(childCount$ | async) === 0; else hasChildren">
              <p>
                <strong> {{ 'OVERVIEW.NO_CHILDREN' | translate }} </strong>
                <br />
                {{ 'OVERVIEW.NO_CHILDREN_MESSAGE' | translate }}
              </p>
              <p class="ion-text-end es-pd-top-sm">
                <ion-button color="xmasred" [routerLink]="['../children']">
                  {{ 'OVERVIEW.ADD_CHILD' | translate }}
                </ion-button>
              </p>
            </ng-container>

            <ng-template #hasChildren>
              <ion-list>
                <ion-item *ngFor="let child of children$ | async" lines="none">
                  <ion-icon name="man-outline" slot="start" *ngIf="child.toyType === 'boys'"></ion-icon>
                  <ion-icon name="woman-outline" slot="start" *ngIf="child.toyType === 'girls'"></ion-icon>
                  <ion-icon name="happy-outline" slot="start" *ngIf="child.toyType === 'infants'"></ion-icon>
                  <ion-label> {{ child.firstName }} {{ child.lastName }} </ion-label>
                </ion-item>
              </ion-list>

              <p class="ion-text-end es-pd-top-sm">
                <ion-button color="xmasred" [routerLink]="['../children']">
                  {{ 'OVERVIEW.ADD_EDIT_CHILD' | translate }}
                </ion-button>
              </p>
            </ng-template>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <ion-col sizeXs="12" sizeSm="6" sizeMd="6">
        <ion-card [disabled]="!(canChooseDateTime$ | async)">
          <ion-card-header>
            <ion-item class="inset-ion-item-title">
              <ion-card-title> {{ 'OVERVIEW.SCHEDULE' | translate }} </ion-card-title>
            </ion-item>
          </ion-card-header>
          <ion-card-content class="ion-text-center">

            <ng-container *ngIf="!(dateTimeSlot$ | async); else hasDateTimeSlot">
              <p>
                <strong> {{ 'OVERVIEW.NO_TIME_SELECTED.' | translate }} </strong>
                <br />
                {{ 'OVERVIEW.NO_TIME_MESSAGE' | translate }}
              </p>

              <p class="ion-text-end es-pd-top-sm">
                <ion-button color="xmasred" [routerLink]="['../date-time']"> {{ 'OVERVIEW.SELECT_TIME' | translate }} </ion-button>
              </p>
            </ng-container>

            <ng-template #hasDateTimeSlot>
              <ion-item lines="none">
                <ion-label *ngIf="dateTimeSlot$ | async as dateTimeSlot" class="ion-text-wrap">
                  {{ dateTimeSlot.dateTime | date:'fullDate' }}, {{ dateTimeSlot.dateTime | date:'shortTime' }}
                </ion-label>
              </ion-item>
              <p class="ion-text-end es-pd-top-sm">
                <ion-button color="xmasred" [routerLink]="['../date-time']"> {{ 'OVERVIEW.CHANGE_TIME' | translate }} </ion-button>
              </p>
            </ng-template>

            
            
          </ion-card-content>
        </ion-card>
      </ion-col>

      <ion-col sizeXs="12" sizeSm="6" sizeMd="6">
        <ion-card [disabled]="!(canSubmit$ | async)">
          <ion-card-header>
            <ion-item class="inset-ion-item-title">
              <ion-card-title lines="full"> {{ 'MENU.SUBMIT' | translate }} </ion-card-title>
            </ion-item>
          </ion-card-header>
          <ion-card-content class="ion-text-center">
            <p>
              <strong> {{ 'OVERVIEW.NOT_SUBMITTED' | translate }} </strong>
              <br />
              {{ 'OVERVIEW.NOT_SUBMITTED_MESSAGE' | translate }}
            </p>
            <p class="ion-text-end es-pd-top-sm">
              <ion-button color="xmasred" [routerLink]="['../submit']"> {{ 'MENU.SUBMIT' | translate }} </ion-button>
            </p>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
